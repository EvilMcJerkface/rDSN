<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>rDSN: Common Task Operations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rDSN
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Common Task Operations<div class="ingroups"><a class="el" href="group__layer1-dev.html">Write Applications in rDSN</a> &raquo; <a class="el" href="group__layer1-dev-c.html">Core API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Common Task/Event Operations.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7800b4bff24ae27ed47d37ea2b4ee8f1"><td class="memItemLeft" align="right" valign="top">DSN_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#ga7800b4bff24ae27ed47d37ea2b4ee8f1">dsn_task_add_ref</a> (dsn_task_t task)</td></tr>
<tr class="memdesc:ga7800b4bff24ae27ed47d37ea2b4ee8f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add reference count for a task created from <a class="el" href="group__tasking.html#gab03e72dd522d4971eb3e14922b57f3de">dsn_task_create</a> etc.  <a href="#ga7800b4bff24ae27ed47d37ea2b4ee8f1">More...</a><br /></td></tr>
<tr class="separator:ga7800b4bff24ae27ed47d37ea2b4ee8f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e8303834afa73820d452b51ad7e40c3"><td class="memItemLeft" align="right" valign="top">DSN_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#ga4e8303834afa73820d452b51ad7e40c3">dsn_task_release_ref</a> (dsn_task_t task)</td></tr>
<tr class="memdesc:ga4e8303834afa73820d452b51ad7e40c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">release reference for a given task handle  <a href="#ga4e8303834afa73820d452b51ad7e40c3">More...</a><br /></td></tr>
<tr class="separator:ga4e8303834afa73820d452b51ad7e40c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ce5abab055cbf2b556772bcadb23722"><td class="memItemLeft" align="right" valign="top">DSN_API int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#ga1ce5abab055cbf2b556772bcadb23722">dsn_task_get_ref</a> (dsn_task_t task)</td></tr>
<tr class="memdesc:ga1ce5abab055cbf2b556772bcadb23722"><td class="mdescLeft">&#160;</td><td class="mdescRight">get reference for a given task handle  <a href="#ga1ce5abab055cbf2b556772bcadb23722">More...</a><br /></td></tr>
<tr class="separator:ga1ce5abab055cbf2b556772bcadb23722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad213948bd98a91645a71f86ffb704726"><td class="memItemLeft" align="right" valign="top">DSN_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#gad213948bd98a91645a71f86ffb704726">dsn_task_cancel</a> (dsn_task_t task, bool wait_until_finished)</td></tr>
<tr class="memdesc:gad213948bd98a91645a71f86ffb704726"><td class="mdescLeft">&#160;</td><td class="mdescRight">cancel a task  <a href="#gad213948bd98a91645a71f86ffb704726">More...</a><br /></td></tr>
<tr class="separator:gad213948bd98a91645a71f86ffb704726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad2132ff959dd085ef3dab403010e849f"><td class="memItemLeft" align="right" valign="top">DSN_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#gad2132ff959dd085ef3dab403010e849f">dsn_task_cancel2</a> (dsn_task_t task, bool wait_until_finished, bool *finished)</td></tr>
<tr class="memdesc:gad2132ff959dd085ef3dab403010e849f"><td class="mdescLeft">&#160;</td><td class="mdescRight">cancel a task  <a href="#gad2132ff959dd085ef3dab403010e849f">More...</a><br /></td></tr>
<tr class="separator:gad2132ff959dd085ef3dab403010e849f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e46d56a7bba870f541314641220733e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8e46d56a7bba870f541314641220733e"></a>
DSN_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#ga8e46d56a7bba870f541314641220733e">dsn_task_cancel_current_timer</a> ()</td></tr>
<tr class="memdesc:ga8e46d56a7bba870f541314641220733e"><td class="mdescLeft">&#160;</td><td class="mdescRight">cancel the later execution of the timer task inside the timer <br /></td></tr>
<tr class="separator:ga8e46d56a7bba870f541314641220733e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49d3124fb20a3045483116a68bb99842"><td class="memItemLeft" align="right" valign="top">DSN_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#ga49d3124fb20a3045483116a68bb99842">dsn_task_wait</a> (dsn_task_t task)</td></tr>
<tr class="memdesc:ga49d3124fb20a3045483116a68bb99842"><td class="mdescLeft">&#160;</td><td class="mdescRight">wait until a task is completed  <a href="#ga49d3124fb20a3045483116a68bb99842">More...</a><br /></td></tr>
<tr class="separator:ga49d3124fb20a3045483116a68bb99842"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga91d4f179ce7623b105ab05af37965cc0"><td class="memItemLeft" align="right" valign="top">DSN_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#ga91d4f179ce7623b105ab05af37965cc0">dsn_task_wait_timeout</a> (dsn_task_t task, int timeout_milliseconds)</td></tr>
<tr class="memdesc:ga91d4f179ce7623b105ab05af37965cc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">wait until a task is completed  <a href="#ga91d4f179ce7623b105ab05af37965cc0">More...</a><br /></td></tr>
<tr class="separator:ga91d4f179ce7623b105ab05af37965cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55e6abfca72b95fe20c8b9ab371f7ed8"><td class="memItemLeft" align="right" valign="top">DSN_API dsn_error_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#ga55e6abfca72b95fe20c8b9ab371f7ed8">dsn_task_error</a> (dsn_task_t task)</td></tr>
<tr class="memdesc:ga55e6abfca72b95fe20c8b9ab371f7ed8"><td class="mdescLeft">&#160;</td><td class="mdescRight">get result error code of a task  <a href="#ga55e6abfca72b95fe20c8b9ab371f7ed8">More...</a><br /></td></tr>
<tr class="separator:ga55e6abfca72b95fe20c8b9ab371f7ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadec1ab58a32efb0ee0d1dd9e3dd8d304"><td class="memItemLeft" align="right" valign="top">DSN_API bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#gadec1ab58a32efb0ee0d1dd9e3dd8d304">dsn_task_is_running_inside</a> (dsn_task_t t)</td></tr>
<tr class="memdesc:gadec1ab58a32efb0ee0d1dd9e3dd8d304"><td class="mdescLeft">&#160;</td><td class="mdescRight">check whether the task is currently running inside the given task  <a href="#gadec1ab58a32efb0ee0d1dd9e3dd8d304">More...</a><br /></td></tr>
<tr class="separator:gadec1ab58a32efb0ee0d1dd9e3dd8d304"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6fe69602ca4679d36d2ebc50f00e38cb"><td class="memItemLeft" align="right" valign="top">DSN_API dsn_task_tracker_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#ga6fe69602ca4679d36d2ebc50f00e38cb">dsn_task_tracker_create</a> (int task_bucket_count)</td></tr>
<tr class="memdesc:ga6fe69602ca4679d36d2ebc50f00e38cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">task trackers are used to track task context  <a href="#ga6fe69602ca4679d36d2ebc50f00e38cb">More...</a><br /></td></tr>
<tr class="separator:ga6fe69602ca4679d36d2ebc50f00e38cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d37c53d694e913521e8a96dc429c33e"><td class="memItemLeft" align="right" valign="top">DSN_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#ga6d37c53d694e913521e8a96dc429c33e">dsn_task_tracker_destroy</a> (dsn_task_tracker_t tracker)</td></tr>
<tr class="memdesc:ga6d37c53d694e913521e8a96dc429c33e"><td class="mdescLeft">&#160;</td><td class="mdescRight">destroy a task tracker, which cancels all pending tasks as well  <a href="#ga6d37c53d694e913521e8a96dc429c33e">More...</a><br /></td></tr>
<tr class="separator:ga6d37c53d694e913521e8a96dc429c33e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a44cdb0aed43452bdef334d9f691eb4"><td class="memItemLeft" align="right" valign="top">DSN_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#ga1a44cdb0aed43452bdef334d9f691eb4">dsn_task_tracker_cancel_all</a> (dsn_task_tracker_t tracker)</td></tr>
<tr class="memdesc:ga1a44cdb0aed43452bdef334d9f691eb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">cancels all pending tasks bound to this tracker  <a href="#ga1a44cdb0aed43452bdef334d9f691eb4">More...</a><br /></td></tr>
<tr class="separator:ga1a44cdb0aed43452bdef334d9f691eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa8752122c2ca74cdcdd77c1bcd392cc"><td class="memItemLeft" align="right" valign="top">DSN_API void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__task-common.html#gaaa8752122c2ca74cdcdd77c1bcd392cc">dsn_task_tracker_wait_all</a> (dsn_task_tracker_t tracker)</td></tr>
<tr class="memdesc:gaaa8752122c2ca74cdcdd77c1bcd392cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">wait all pending tasks to be completed bound to this tracker  <a href="#gaaa8752122c2ca74cdcdd77c1bcd392cc">More...</a><br /></td></tr>
<tr class="separator:gaaa8752122c2ca74cdcdd77c1bcd392cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Common Task/Event Operations. </p>
<p>Task-type specific operations, such as create a rpc response task, are introduced in separated categories (e.g., RPC). </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga7800b4bff24ae27ed47d37ea2b4ee8f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSN_API void dsn_task_add_ref </td>
          <td>(</td>
          <td class="paramtype">dsn_task_t&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add reference count for a task created from <a class="el" href="group__tasking.html#gab03e72dd522d4971eb3e14922b57f3de">dsn_task_create</a> etc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>the task handle.</td></tr>
  </table>
  </dd>
</dl>
<p>Memory usage of tasks are controlled using reference-count. All returned dsn_task_t are NOT add_ref by rDSN, so you DO NOT need to call task_release_ref to release the tasks. the decision is made for easier programming, and you may consider the later dsn_rpc_xxx calls do the resource gc work for you.</p>
<p>however, before you emit the tasks (e.g., via dsn_task_call, dsn_rpc_call), AND you want to hold the task handle further after the emit API, you need to call dsn_task_add_ref to ensure the handle is still valid, and also call dsn_task_release_ref later to release the handle. </p>

</div>
</div>
<a class="anchor" id="ga4e8303834afa73820d452b51ad7e40c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSN_API void dsn_task_release_ref </td>
          <td>(</td>
          <td class="paramtype">dsn_task_t&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>release reference for a given task handle </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>the task handle</td></tr>
  </table>
  </dd>
</dl>
<p>See more details of the comment in <a class="el" href="group__task-common.html#ga7800b4bff24ae27ed47d37ea2b4ee8f1">dsn_task_add_ref</a> </p>

</div>
</div>
<a class="anchor" id="ga1ce5abab055cbf2b556772bcadb23722"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSN_API int dsn_task_get_ref </td>
          <td>(</td>
          <td class="paramtype">dsn_task_t&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get reference for a given task handle </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>the task handle</td></tr>
  </table>
  </dd>
</dl>
<p>See more details of the comment in <a class="el" href="group__task-common.html#ga7800b4bff24ae27ed47d37ea2b4ee8f1">dsn_task_add_ref</a> </p>

</div>
</div>
<a class="anchor" id="gad213948bd98a91645a71f86ffb704726"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSN_API bool dsn_task_cancel </td>
          <td>(</td>
          <td class="paramtype">dsn_task_t&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wait_until_finished</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cancel a task </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>the task handle </td></tr>
    <tr><td class="paramname">wait_until_finished</td><td>true if wait until finished is needed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if THIS cancellation succeeds, false if the task is already running (when wait_until_finished = false), or completed successfully, or cancelled. </dd></dl>

</div>
</div>
<a class="anchor" id="gad2132ff959dd085ef3dab403010e849f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSN_API bool dsn_task_cancel2 </td>
          <td>(</td>
          <td class="paramtype">dsn_task_t&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>wait_until_finished</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>finished</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cancel a task </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>the task handle </td></tr>
    <tr><td class="paramname">wait_until_finished</td><td>true if wait until finished is needed </td></tr>
    <tr><td class="paramname">finished</td><td>after the call, whether the task is finished (completed successfully, or cancelled)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if THIS cancellation succeeds, false if the task is already running (when wait_until_finished = false), or completed successfully, or cancelled. </dd></dl>

</div>
</div>
<a class="anchor" id="ga49d3124fb20a3045483116a68bb99842"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSN_API void dsn_task_wait </td>
          <td>(</td>
          <td class="paramtype">dsn_task_t&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>wait until a task is completed </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>the task handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if it succeeds, false if it fails. </dd></dl>

</div>
</div>
<a class="anchor" id="ga91d4f179ce7623b105ab05af37965cc0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSN_API bool dsn_task_wait_timeout </td>
          <td>(</td>
          <td class="paramtype">dsn_task_t&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout_milliseconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>wait until a task is completed </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>the task handle </td></tr>
    <tr><td class="paramname">timeout_milliseconds</td><td>maximum time to wait</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if it succeeds, false if it timeouts </dd></dl>

</div>
</div>
<a class="anchor" id="ga55e6abfca72b95fe20c8b9ab371f7ed8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSN_API dsn_error_t dsn_task_error </td>
          <td>(</td>
          <td class="paramtype">dsn_task_t&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get result error code of a task </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>the task handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the result error code of the task </dd></dl>

</div>
</div>
<a class="anchor" id="gadec1ab58a32efb0ee0d1dd9e3dd8d304"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSN_API bool dsn_task_is_running_inside </td>
          <td>(</td>
          <td class="paramtype">dsn_task_t&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check whether the task is currently running inside the given task </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>the given task handle</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if it is. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6fe69602ca4679d36d2ebc50f00e38cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSN_API dsn_task_tracker_t dsn_task_tracker_create </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>task_bucket_count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>task trackers are used to track task context </p>
<p>when a task executes, it usually accesses certain context when the context is gone, all tasks accessing this context needs to be cancelled automatically to avoid invalid context access. To release this burden from developers, rDSN provides task tracker which can be embedded into a context, and destroyed when the context is gone.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task_bucket_count</td><td>number of task buckets to reduce thread conflicts</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>task tracker handle </dd></dl>

</div>
</div>
<a class="anchor" id="ga6d37c53d694e913521e8a96dc429c33e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSN_API void dsn_task_tracker_destroy </td>
          <td>(</td>
          <td class="paramtype">dsn_task_tracker_t&#160;</td>
          <td class="paramname"><em>tracker</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>destroy a task tracker, which cancels all pending tasks as well </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tracker</td><td>task tracker handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1a44cdb0aed43452bdef334d9f691eb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSN_API void dsn_task_tracker_cancel_all </td>
          <td>(</td>
          <td class="paramtype">dsn_task_tracker_t&#160;</td>
          <td class="paramname"><em>tracker</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cancels all pending tasks bound to this tracker </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tracker</td><td>task tracker handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaaa8752122c2ca74cdcdd77c1bcd392cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DSN_API void dsn_task_tracker_wait_all </td>
          <td>(</td>
          <td class="paramtype">dsn_task_tracker_t&#160;</td>
          <td class="paramname"><em>tracker</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>wait all pending tasks to be completed bound to this tracker </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tracker</td><td>task tracker handle </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
